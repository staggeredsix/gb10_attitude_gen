# LTX-2 local settings (loaded at startup by app.py / ltx2_backend.py)
# Format: KEY=VALUE
# Lines starting with # or ; are comments.
# Environment variables override these values.

# Playback buffering
LTX2_PLAYBACK_FPS=24
LTX2_BUFFER_SECONDS=20.0
LTX2_LOW_WATER_SECONDS=8.0
LTX2_DROP_OLD_FRAMES=0

# Chunking + continuity
# Use ONE of the following:
# - LTX2_NUM_FRAMES (explicit frame count per chunk)
# - LTX2_TARGET_CHUNK_SECONDS (exact seconds -> frames based on FPS)
# - LTX2_CHUNK_SECONDS (default fallback)
LTX2_NUM_FRAMES=97
LTX2_TARGET_CHUNK_SECONDS=
LTX2_CHUNK_SECONDS=30.0
LTX2_MIN_FRAMES=24
LTX2_PROMPT_DRIFT=0
LTX2_CHAINING=1
LTX2_CHAIN_STRENGTH=0.35
# Reset chaining every N chunks to avoid quality degradation
LTX2_CHAIN_RESET_INTERVAL=0
# Commercial Mode resets (0 disables)
LTX2_COMMERCIAL_RESET_INTERVAL_CHUNKS=8
LTX2_COMMERCIAL_BLEND_FRAMES=3
LTX2_COMMERCIAL_MAX_SECONDS=60

# Negative prompt (guardrails + user preference)
LTX2_NEGATIVE_PROMPT=nude, nudity, child, children, gross, disgusting, violent, political
LTX2_DISABLE_NEGATIVE_PROMPT=0

# Model persistence (GB300/high VRAM)
LTX2_PERSIST_MODELS=1
LTX2_SKIP_CLEANUP=1

# Optional debugging
LTX2_USE_INFERENCE_MODE=0

# ComfyUI preset controls
LTX2_COMFY_PRESET=0

# sampler/scheduler
LTX2_SAMPLER_NAME=euler_ancestral
LTX2_STAGE1_STEPS=20
LTX2_STAGE1_CFG=4.0
LTX2_SCHED_MAX_SHIFT=2.05
LTX2_SCHED_BASE_SHIFT=0.95
LTX2_SCHED_TERMINAL=0.1
LTX2_SCHED_STRETCH=1

# stage2 refine (manual sigmas)
LTX2_STAGE2_ENABLE=1
LTX2_STAGE2_CFG=1.0
LTX2_STAGE2_MANUAL_SIGMAS=0.909375,0.725,0.421875,0.0

# VAE decode tiled
LTX2_VAE_DECODE_TILED=1
LTX2_VAE_TILE_SIZE=512
LTX2_VAE_OVERLAP=64
LTX2_VAE_TEMPORAL_SIZE=4096
LTX2_VAE_TEMPORAL_OVERLAP=8

# Startup behavior
LTX2_AUTOSTART=0

[inference]
steps = 16

# CFG (prompt guidance strength)
LTX2_REALTIME_CFG=2

# Upscaled output safety caps (avoid 32-bit index math errors at very large sizes)
LTX2_UPSCALED_MAX_WIDTH=4096
LTX2_UPSCALED_MAX_HEIGHT=2304

# Native output safety caps
LTX2_NATIVE_MAX_WIDTH=1280
LTX2_NATIVE_MAX_HEIGHT=736
